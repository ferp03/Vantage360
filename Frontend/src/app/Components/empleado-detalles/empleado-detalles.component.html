<div class="contenedor-detalle">
  <h1>Mi perfil</h1>
  <div class="caja-info" [ngClass]="{ 'editando': editandoInfo }">
    <div class="izquierda" [ngClass]="{ 'modo-edicion': editandoInfo }">
      <div class="izquierda-superior">
        
        <div class="h3-tooltip-container">
          <h2><span class="material-icons">account_circle</span> {{ info.nombre }}</h2>
          <div class="tooltip">
            <span class="material-icons">info</span>
            <div class="tooltip-text">
              <p><strong>Desde:</strong> {{ info.desde }}</p>
              <p><strong>Ciudad:</strong> {{ info.ubicacion }}</p>
              <p><strong>Nivel:</strong> {{ info.nivel }}</p>
              <p><strong>Nivel Inglés:</strong> {{ info.nivel_ingles }}</p>
              <p><strong>Staff Days:</strong> {{ info.staff_days }}</p>
              <p><strong>YTD Unassigned:</strong> {{ info.ytd_unassigned }}%</p>
              <p><strong>YTD Recovery:</strong> {{ info.ytd_recovery }}%</p>
              <p><strong>Bench Days:</strong> {{ info.bd }}%</p>
            </div>
          </div>
        </div>


        <p><strong><span class="material-icons">email</span> Correo:</strong> {{ info.correo }}</p>
        <p><strong><span class="material-icons">person</span> Usuario:</strong> {{ info.usuario }}</p>
        <p><strong><span class="material-icons">bar_chart</span> Estado Laboral:</strong> {{ info.estado_laboral }}</p>
        <p><strong><span class="material-icons">bar_chart</span> Cargabilidad:</strong> {{ info.cargabilidad }}%</p>
        <p><strong><span class="material-icons">person</span> People Lead:</strong> {{ info.lead_usuario }}</p>


        
        
        
        <button
          *ngIf="editandoInfo && esMiPerfil"
          class="boton-cambiar-pass"
          (click)="mostrarModalContrasena = true"
        >
          <span class="material-icons">lock</span> Cambiar contraseña
        </button>
      </div>

      <div class="izquierda-habilidades">
        <div class="habilidades">
          <div class="encabezado-habilidades">
            <h4><span class="material-icons">star</span> Habilidades</h4>
            <button
              *ngIf="editandoInfo && esMiPerfil"
              class="boton-agregar-habilidad"
              (click)="irARegistroHabilidades()"
            >
              <span>+</span>
            </button>
          </div>

          <div class="etiquetas-habilidad">
            <span *ngFor="let habilidad of habilidades">{{ habilidad }}</span>
          </div>

          <h4><span class="material-icons">school</span> Certificados</h4>
          <ul>
            <li *ngFor="let curso of cursos">{{ curso.nombre }}</li>
          </ul>
        </div>

        
      </div>
    </div>

    <div class="derecha"></div>

    <button
      class="boton-editar"
      *ngIf="esMiPerfil"
      (click)="toggleEditarInfo()"
    >
      <span class="material-icons">{{ editandoInfo ? 'save' : 'edit' }}</span>
      {{ editandoInfo ? 'Guardar' : 'Editar' }}
    </button>
  </div>
  <div class="carrera" [ngClass]="{ 'modo-edicion': editandoTrayectoria }">
    <h3><span class="material-icons">work</span> Trayectoria Laboral</h3>
  
    <div class="linea-tiempo">
      <div
        class="elemento-tiempo agregar-tarjeta"
        *ngIf="editandoTrayectoria && esMiPerfil && !existeExperienciaNueva()"
      >
        <button class="boton-agregar-exp" (click)="agregarExperiencia()">
          <span>+</span>
        </button>
      </div>
  
      <div
        class="elemento-tiempo"
        *ngFor="let experiencia of experiencias; let i = index"
      >
        <button
          *ngIf="editandoTrayectoria && esMiPerfil"
          class="boton-editar-cuadro"
          (click)="toggleEditarTrayectoria(i)"
        >
          <span class="material-icons">
            {{ editandoIndice === i ? 'save' : 'edit' }}
          </span>
          {{ editandoIndice === i ? 'Guardar' : 'Editar' }}
        </button>
  
        <div *ngIf="editandoIndice !== i">
          <h4><span class="material-icons">device_hub</span> {{ experiencia.titulo }}</h4>
          <p>{{ experiencia.descripcion }}</p>
          <small>
            <span class="material-icons">calendar_today</span>
            {{ experiencia.inicio }} - {{ experiencia.fin }}
          </small>
        </div>
  
        <div *ngIf="editandoIndice === i">
          <!-- Campos para edición -->
          <input [(ngModel)]="experiencia.titulo" placeholder="Título" />
          <textarea [(ngModel)]="experiencia.descripcion" placeholder="Descripción"></textarea>
          <input [(ngModel)]="experiencia.inicio" placeholder="Fecha de inicio" />
          <input [(ngModel)]="experiencia.fin" placeholder="Fecha de fin" />
        </div>
      </div>
    </div>
  </div>
  
</div>

