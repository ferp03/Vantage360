<div class="login-container">
    <div class="box createlead-box">
        <div>
            <img src="assets/logo_accenture.svg" class="logo">
        </div>

        <div class="createlead-form-container">    
            <form (submit)="crearLead()" class="createlead-form">
                <div class="form-row">
                    <div class="form-columns">
                        <div class="column left-column">
                            <div class="form-group">
                                <label><span style="color: red;">*</span> Nombre:</label>
                                <input type="text" [(ngModel)]="name" name="name" required>
                            </div>
                            
                            <div class="form-group">
                                <label><span style="color: red;">*</span>Apellido Paterno:</label>
                                <input type="text" [(ngModel)]="patlastname" name="patlastname" required>
                            </div>
                            
                            <div class="form-group">
                                <label>Apellido Materno:</label>
                                <input type="text" [(ngModel)]="matlastname" name="matlastname">
                            </div>
                        </div>
                         
                        <div class="column right-column">
                            <div class="form-group">
                                <label><span style="color: red;">*</span>Correo:</label>
                                <input type="text" [(ngModel)]="email" name="email" required>
                            </div>
                            
                            <div class="form-group">
                                <label><span style="color: red;">*</span>Contraseña:</label>
                                <input type="password" [(ngModel)]="password" name="password" required>
                            </div>
                            
                            <div class="form-group">
                                <label><span style="color: red;">*</span>Confirmar Contraseña:</label>
                                <input type="password" [(ngModel)]="password2" name="password2" required>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label><mat-icon>supervisor_account</mat-icon> Rol a asignar</mat-label>
                            <mat-select [(ngModel)]="selectedLeadType" name="selectedLeadType" required>
                                <mat-option value="people_lead">People Lead</mat-option>
                                <mat-option value="delivery_lead">Delivery Lead</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="form-group people-lead-wrapper">
                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label><mat-icon>person</mat-icon> People lead a asignar</mat-label>
                            <mat-select [(ngModel)]="selectedPeopleLead" name="selectedPeopleLead" [required]="false">
                                <mat-option *ngFor="let lead of availableLeads" [value]="lead.empleado_id">
                                    {{ lead.nombre_completo }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="form-group capability-wrapper">
                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label><mat-icon>work</mat-icon> Capability</mat-label>
                            <mat-select [(ngModel)]="selectedCapability" name="selectedCapability" required>
                            <mat-option *ngFor="let capability of capabilities" [value]="capability">
                                {{ capability.nombre }}
                            </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
                
                <div class="button-container">
                    <button type="submit">Crear Lead</button>
                </div>
                
                <p *ngIf="mensaje" class="error">{{mensaje}}</p>
            </form>
        </div>
    </div>
    <div #toast class="toast"></div>
</div>